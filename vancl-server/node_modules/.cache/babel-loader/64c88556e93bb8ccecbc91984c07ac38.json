{"remainingRequest":"c:\\Users\\web\\Desktop\\xiangmu\\Vue\\vancl_vue\\node_modules\\babel-loader\\lib\\index.js!c:\\Users\\web\\Desktop\\xiangmu\\Vue\\vancl_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!c:\\Users\\web\\Desktop\\xiangmu\\Vue\\vancl_vue\\src\\views\\Payment.vue?vue&type=script&lang=js&","dependencies":[{"path":"c:\\Users\\web\\Desktop\\xiangmu\\Vue\\vancl_vue\\src\\views\\Payment.vue","mtime":1547210242000},{"path":"c:\\Users\\web\\Desktop\\xiangmu\\Vue\\vancl_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1535162686000},{"path":"c:\\Users\\web\\Desktop\\xiangmu\\Vue\\vancl_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1534881726000},{"path":"c:\\Users\\web\\Desktop\\xiangmu\\Vue\\vancl_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      progress: 1,\n      sumCount: 0,\n      sumMoney: 0,\n      payList: [],\n      order: 0,\n      selWay: '',\n      minutes: 15,\n      seconds: 0,\n      timer: null\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    console.log(this.progress);\n    var payList = JSON.parse(sessionStorage.getItem('payList'));\n    this.payList = payList;\n    var sumMoney = 0;\n    var sumCount = 0;\n\n    for (var i = 0; i < this.payList.length; i++) {\n      sumCount += this.payList[i].count;\n      sumMoney += this.payList[i].count * this.payList[i].price;\n    }\n\n    this.sumMoney = sumMoney.toFixed(2);\n    this.sumCount = sumCount; // console.log(payList);\n\n    this.timer = setInterval(function () {\n      if (_this.seconds == '00' && _this.minutes != '00') {\n        _this.seconds = 59;\n        _this.minutes -= 1;\n      } else if (_this.seconds == '00' && _this.minutes == '00') {\n        clearInterval(timer);\n\n        _this.model({\n          modelMsg: \"订单已经取消\"\n        }).then(function () {\n          _this.$router.go(-1);\n        }).catch(function () {\n          _this.$router.go(-1);\n        });\n      } else {\n        _this.seconds -= 1;\n      }\n    }, 1000);\n  },\n  filters: {\n    time: function time(t) {\n      return t < 10 ? \"0\" + t : \"\" + t;\n    }\n  },\n  methods: {\n    orderConfirm: function orderConfirm() {\n      //订单确认信息\n      this.progress = 2;\n    },\n    wayConfirm: function wayConfirm() {\n      //支付方式\n      this.progress = 3;\n      clearInterval(this.timer);\n    },\n    checkTime: function checkTime(t) {\n      return t < 10 ? \"0\" + t : \"\" + t;\n    },\n    goBack: function goBack() {\n      this.$router.go(-1);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.timer) {\n      clearInterval(this.timer);\n    }\n  }\n};",{"version":3,"sources":["Payment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,gBAAA,CADA;AAEA,gBAAA,CAFA;AAGA,gBAAA,CAHA;AAIA,eAAA,EAJA;AAKA,aAAA,CALA;AAMA,cAAA,EANA;AAOA,eAAA,EAPA;AAQA,eAAA,CARA;AASA,aAAA;AATA,KAAA;AAWA,GAbA;AAcA,SAdA,qBAcA;AAAA;;AACA,YAAA,GAAA,CAAA,KAAA,QAAA;AACA,QAAA,UAAA,KAAA,KAAA,CAAA,eAAA,OAAA,CAAA,SAAA,CAAA,CAAA;AACA,SAAA,OAAA,GAAA,OAAA;AACA,QAAA,WAAA,CAAA;AACA,QAAA,WAAA,CAAA;;AACA,SAAA,IAAA,IAAA,CAAA,EAAA,IAAA,KAAA,OAAA,CAAA,MAAA,EAAA,GAAA,EAAA;AACA,kBAAA,KAAA,OAAA,CAAA,CAAA,EAAA,KAAA;AACA,kBAAA,KAAA,OAAA,CAAA,CAAA,EAAA,KAAA,GAAA,KAAA,OAAA,CAAA,CAAA,EAAA,KAAA;AACA;;AACA,SAAA,QAAA,GAAA,SAAA,OAAA,CAAA,CAAA,CAAA;AACA,SAAA,QAAA,GAAA,QAAA,CAXA,CAYA;;AACA,SAAA,KAAA,GAAA,YAAA,YAAA;AACA,UAAA,MAAA,OAAA,IAAA,IAAA,IAAA,MAAA,OAAA,IAAA,IAAA,EAAA;AACA,cAAA,OAAA,GAAA,EAAA;AACA,cAAA,OAAA,IAAA,CAAA;AACA,OAHA,MAGA,IAAA,MAAA,OAAA,IAAA,IAAA,IAAA,MAAA,OAAA,IAAA,IAAA,EAAA;AACA,sBAAA,KAAA;;AACA,cAAA,KAAA,CAAA;AAAA,oBAAA;AAAA,SAAA,EAAA,IAAA,CAAA,YAAA;AACA,gBAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,SAFA,EAEA,KAFA,CAEA,YAAA;AACA,gBAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,SAJA;AAKA,OAPA,MAOA;AACA,cAAA,OAAA,IAAA,CAAA;AACA;AACA,KAdA,EAcA,IAdA,CAAA;AAeA,GA1CA;AA2CA,WAAA;AACA,QADA,gBACA,CADA,EACA;AACA,aAAA,IAAA,EAAA,GAAA,MAAA,CAAA,GAAA,KAAA,CAAA;AACA;AAHA,GA3CA;AAgDA,WAAA;AACA,gBADA,0BACA;AAAA;AACA,WAAA,QAAA,GAAA,CAAA;AACA,KAHA;AAIA,cAJA,wBAIA;AAAA;AACA,WAAA,QAAA,GAAA,CAAA;AACA,oBAAA,KAAA,KAAA;AACA,KAPA;AAQA,aARA,qBAQA,CARA,EAQA;AACA,aAAA,IAAA,EAAA,GAAA,MAAA,CAAA,GAAA,KAAA,CAAA;AACA,KAVA;AAWA,UAXA,oBAWA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA;AAbA,GAhDA;AA+DA,eA/DA,2BA+DA;AACA,QAAA,KAAA,KAAA,EAAA;AACA,oBAAA,KAAA,KAAA;AACA;AACA;AAnEA,CAAA","sourcesContent":["<template>\r\n    <div id=\"main\" >\r\n        <ul class=\"progress clear\">\r\n            <li class=\"pno1\" :class=\"progress==1?'active':''\">\r\n                <b>确认订单信息</b>\r\n                <i></i>\r\n            </li>\r\n            <li class=\"pno2\" :class=\"progress==2?'active':''\">\r\n                <b>支付订单</b>\r\n                <i class=\"arrow-left\"></i>\r\n                <i class=\"arrow-right\"></i>\r\n            </li>\r\n            <li class=\"pno3\" :class=\"progress==3?'active':''\">\r\n                <b>支付完成</b>\r\n                <i></i>\r\n            </li>\r\n        </ul>\r\n        <div v-if=\"progress==1\">\r\n            <div class=\"address\">\r\n                <h2>选择收货地址</h2>\r\n                <div>\r\n                    <b>张拉拉</b>\r\n                    <span>北京市海淀区万寿路</span>\r\n                </div>\r\n                <a href=\"javascript:;\">选择其他地址&gt;&gt;</a>\r\n            </div>\r\n            <div class=\"product-detail\">\r\n                <!--头部-->\r\n                <h2>确认商品信息</h2>\r\n                <div class=\"cart-head clear\">\r\n                    <ul class=\"clear\">\r\n                        <li>商品信息</li>\r\n                        <li>颜色|尺寸</li>\r\n                        <li>单价(元)</li>\r\n                        <li>数量</li>\r\n                        <li>金额</li>\r\n                    </ul>\r\n                </div>\r\n                <!--商品信息-->\r\n                <div class=\"cart-item\" v-for='item of payList'>\r\n                    <ul class=\"clear\">\r\n                        <li>\r\n                            <a href=\"#\">\r\n                                <img :src=\"item.img\" alt=\"\">\r\n                            </a>\r\n                                <a href=\"\">{{item.title}}</a>\r\n                        </li>\r\n                        <li>{{item.color}}|{{item.size}}</li>\r\n                        <li>¥{{(item.price).toFixed(2)}}</li>\r\n                        <li>{{item.count}}</li>\r\n                        <li><span>¥{{(item.count*item.price).toFixed(2)}}</span></li>\r\n                    </ul>\r\n                </div>\r\n                <!--结算-->\r\n                <div class=\"cart-count clear\">\r\n                    <ul class=\"clear\">\r\n                        <li><a href=\"javascript:;\" @click=\"goBack\">返回&gt;&gt;</a></li>\r\n                        <li><span>总共 <b id=\"count\">{{sumCount}}</b> 件商品</span></li>\r\n                        <li><span>合计:<b id=\"yuan\">￥{{sumMoney}}</b>元</span></li>\r\n                        <li><button @click=\"orderConfirm\">确认订单</button></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div v-if=\"progress==2\" class=\"progress2\">\r\n            <ul class=\"clear tip\">\r\n                <li>支付金额:<span>¥{{sumMoney}}</span></li>\r\n                <li>支付订单:<span>1222222222222222222222</span></li>\r\n                <li>收款方：凡客</li>\r\n            </ul>\r\n            <p>支付方式</p>\r\n            <ul class=\"ways clear\">\r\n                <li><label><input type=\"radio\" value=\"w1\" v-model=\"selWay\"><img src=\"img/payment/pay_img1.jpg\" alt=\"\"></label></li>\r\n                <li><label><input type=\"radio\" value=\"w2\" v-model=\"selWay\"><img src=\"img/payment/pay_img2.jpg\" alt=\"\" ></label></li>\r\n                <li><label><input type=\"radio\" value=\"w3\" v-model=\"selWay\"><img src=\"img/payment/pay_img3.jpg\" alt=\"\"  ></label></li>\r\n                <li><label><input type=\"radio\" value=\"w4\" v-model=\"selWay\"><img src=\"img/payment/pay_img4.jpg\" alt=\"\"></label></li>\r\n                <li><label><input type=\"radio\" value=\"w5\" v-model=\"selWay\"><img src=\"img/payment/pay_img5.jpg\" alt=\"\"  ></label></li>\r\n            </ul>\r\n            <p>剩余时间：{{minutes | time}}:{{seconds | time}}\r\n                <button v-if=\"selWay\" @click=\"wayConfirm\">确认</button>\r\n            </p>\r\n        </div>   \r\n        <div v-show=\"progress==3\" class=\"progress3\">\r\n            <div>\r\n                <p>支付成功！！<router-link to=\"/products\">继续购物&gt;&gt;</router-link></p>\r\n            </div>\r\n        </div>   \r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            progress:1,\r\n            sumCount:0,\r\n            sumMoney:0,\r\n            payList:[],\r\n            order:0,\r\n            selWay:'',\r\n            minutes:15,\r\n            seconds:0,\r\n            timer:null\r\n        }\r\n    },\r\n    created(){\r\n        console.log(this.progress);\r\n        let payList=JSON.parse(sessionStorage.getItem('payList'));\r\n        this.payList=payList;\r\n        let sumMoney=0;\r\n        let sumCount=0\r\n        for(var i=0;i<this.payList.length;i++){\r\n            sumCount+=this.payList[i].count;\r\n            sumMoney+=(this.payList[i].count)*(this.payList[i].price);\r\n        }\r\n        this.sumMoney=sumMoney.toFixed(2);\r\n        this.sumCount=sumCount;\r\n        // console.log(payList);\r\n       this.timer=setInterval(()=>{\r\n            if(this.seconds=='00'&&this.minutes!='00'){\r\n                this.seconds=59;\r\n                this.minutes-=1;\r\n            }else if(this.seconds=='00'&&this.minutes=='00'){\r\n                clearInterval(timer);\r\n                this.model({modelMsg:\"订单已经取消\"}).then(()=>{\r\n                this.$router.go(-1);\r\n                }).catch(()=>{\r\n                    this.$router.go(-1);\r\n                })   \r\n            }else{\r\n                this.seconds-=1;\r\n            }\r\n        },1000)\r\n    },\r\n    filters:{\r\n        time(t){\r\n            return t<10? \"0\"+t:\"\"+t\r\n        }\r\n    },\r\n    methods:{\r\n        orderConfirm(){//订单确认信息\r\n            this.progress=2;\r\n        },\r\n        wayConfirm(){//支付方式\r\n            this.progress=3;\r\n            clearInterval(this.timer)\r\n        },\r\n        checkTime(t){\r\n            return t<10? \"0\"+t:\"\"+t\r\n        },\r\n        goBack(){\r\n            this.$router.go(-1);\r\n        },\r\n    },\r\n    beforeDestroy(){\r\n        if(this.timer){\r\n            clearInterval(this.timer)\r\n        }\r\n    },\r\n}\r\n</script>\r\n<style scoped>\r\n    #main{\r\n        width:1200px;\r\n        margin:20px auto;\r\n    }\r\n    .progress li{\r\n        float:left;\r\n        width:360px;\r\n        height:50px;\r\n        line-height:50px;\r\n        font-size:20px;\r\n        text-align:center;\r\n        position:relative;\r\n        background:#ddd;\r\n        color:#000;\r\n    }\r\n    .progress li.active{\r\n        color:#fff;\r\n    }\r\n    .progress li:nth-child(2n){\r\n        margin:0 60px;\r\n    }\r\n    .progress li.active{\r\n        background:#b71c20;\r\n        color:#fff;\r\n    }\r\n    .progress .pno1 i,.progress .pno2 i.arrow-left,.progress .pno3 i,.progress .pno2 i.arrow-right{\r\n        display:block;\r\n        width:0px;\r\n        border-top: 25px solid transparent;\r\n        border-right: 25px solid transparent;\r\n        border-bottom: 25px solid transparent;\r\n        position:absolute;\r\n        top:0;\r\n        \r\n    }\r\n    .progress .pno1 i{/*会变*/\r\n        right:-50px;\r\n        border-left: 25px solid #ddd;\r\n    }\r\n    .progress .pno1.active i{\r\n        border-left: 25px solid #b71c20;\r\n    }\r\n    .progress .pno2 i.arrow-left{\r\n        left:0px;\r\n        border-left: 25px solid #fff;\r\n    }\r\n    .progress .pno2 i.arrow-right{/*会变*/\r\n        right:-50px;\r\n        border-left: 25px solid #ddd;\r\n    }\r\n    .progress .pno2.active i.arrow-right{\r\n        border-left: 25px solid #b71c20;\r\n    }\r\n    .progress .pno3 i{\r\n        left:0px;\r\n        border-left: 25px solid #fff;\r\n    }\r\n    /*选择收货地址 */\r\n    .address h2,.product-detail h2{\r\n        height:80px;\r\n        line-height:80px;\r\n        border-bottom:1px solid #ddd;\r\n    }\r\n    .address div{\r\n        border:2px solid #b71c20;\r\n        height:50px;\r\n        line-height:50px;\r\n        border-radius:5px;\r\n        margin-bottom:10px;\r\n    }\r\n    .address b{\r\n        display:inline-block;\r\n        height:50px;\r\n        background:#b71c20;\r\n        width:10%;\r\n        color:#fff;\r\n        font-size:16px;\r\n        text-align:center;\r\n    }\r\n    .address span{\r\n        font-size:14px;\r\n        padding-left:20px;\r\n    }\r\n    .address a{\r\n        font-size:14px;\r\n        color:#666;\r\n    }\r\n    /*****商品信息头部******/\r\n    #main .cart-head ul{\r\n        border-radius: 4px;\r\n        border:1px solid #ddd;\r\n        background:#eee;\r\n        padding:0 90px;\r\n    }\r\n    #main .cart-head ul>li,#main .cart-item>ul>li{\r\n        float:left;\r\n        width:155px;\r\n        padding:10px 0px;\r\n        text-align: center;\r\n        color:#333;\r\n        overflow: hidden;\r\n        box-sizing: border-box;\r\n        font-size:16px;\r\n    }\r\n\r\n    #main .cart-count>ul>li{\r\n        float:left;\r\n        width:170px;\r\n        text-align: center;\r\n        color:#333;\r\n        overflow: hidden;\r\n        box-sizing: border-box;\r\n    }\r\n    #main .cart-head ul>li:first-child,#main .cart-item>ul>li:first-child{\r\n        width:368px;\r\n        text-align: left;\r\n        padding-left:50px;\r\n        box-sizing: border-box;\r\n        \r\n    }\r\n    /*********商品***********/\r\n    #main .cart-item>ul{\r\n        line-height: 80px;\r\n        border:1px dotted #ddd;\r\n       /* margin:0 90px;*/\r\n        padding:0 90px;\r\n    }\r\n    #main .cart-item>ul>li{\r\n        float:left;\r\n        overflow: hidden;\r\n        font-weight:bold;\r\n        color: #666;\r\n        font-size:14px;\r\n    }\r\n    #main .cart-item>ul>li:last-child>span{\r\n        cursor:pointer;\r\n    }\r\n    #main .cart-item>ul>li a:nth-child(2){\r\n        display: inline-block;\r\n        width:60px;\r\n        margin-left:10px;\r\n    }\r\n    #main .cart-item>ul>li a:last-child{\r\n        display: inline-block;\r\n        width:200px;\r\n        height:20px;\r\n        line-height:20px;\r\n        overflow: hidden;\r\n        text-overflow:ellipsis;\r\n        white-space: nowrap;\r\n        color:#393939;\r\n    }\r\n\r\n    #main .cart-item>ul>li:first-child>a>img{\r\n        vertical-align: middle;\r\n        width:50px;\r\n    }\r\n    /******商品信息底部*****/\r\n    #main .cart-count>ul{\r\n        line-height:67px;\r\n        font-size:16px;\r\n        float:right;\r\n        width:1200px;\r\n        box-sizing:border-box;\r\n        border-radius: 4px;\r\n        border:1px solid #ddd;\r\n        background:#eee;\r\n        padding:0 90px;\r\n    }\r\n    #main .cart-count>ul>li{\r\n        width:250px;\r\n        box-sizing:border-box;\r\n        font-weight:bold;\r\n    }\r\n    #main .cart-count>ul>li>a{\r\n        color:#666;\r\n        font-size:14px;\r\n    }\r\n    #main .cart-count ul>li:last-child>button, .progress2 p button{\r\n        outline:none;\r\n        display: inline-block;\r\n        padding:10px 40px;\r\n        background:#ed192b;\r\n        border:2px solid #ddd;\r\n        border-radius: 5px;\r\n        font-size:16px;\r\n        font-weight:bold;\r\n        color:#fff;\r\n    }\r\n    #main .cart-count>ul>li b{\r\n        color:#ed192b;\r\n        font-size:20px;\r\n    }\r\n    /**支付方式 */\r\n    .progress2 ul.tip{\r\n        margin:10px 0;\r\n    }\r\n    .progress2 ul.tip>li{\r\n        float:left;\r\n        font-size:16px;\r\n        width:400px;\r\n    }\r\n    .progress2 ul.tip>li:first-child>span{\r\n        color:#ed192b;\r\n        font-weight:bold;\r\n    }\r\n    .progress2 ul.tip>li~li{\r\n        text-align:right;\r\n    }\r\n    .progress2 p{\r\n        font-size:15px;\r\n        background:#ddd;\r\n        padding:20px;\r\n    }\r\n    .progress2 ul.ways>li{\r\n        float:left;\r\n        font-size:16px;\r\n        width:240px;\r\n        text-align:center;\r\n        background:#fff;\r\n    }\r\n    .progress2 ul.ways li{\r\n        line-height:52px;\r\n        padding:50px 0;\r\n    }\r\n    .progress2 ul.ways li img{\r\n        vertical-align:middle;\r\n        margin-left:10px;\r\n    }\r\n    .progress2 p button{/*298*/\r\n        float:right;\r\n        margin-top:-13px;\r\n    }\r\n    .progress3 p{\r\n        width:1200px;\r\n        height:300px;\r\n        text-align:center;\r\n        line-height:300px;\r\n        font-size:24px;\r\n    }\r\n    .progress3 p a{\r\n        color:#666;\r\n        font-size:18px;\r\n    }\r\n</style>"],"sourceRoot":"src\\views"}]}