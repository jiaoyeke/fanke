{"remainingRequest":"E:\\xiangmu\\Vue\\vancl_vue\\node_modules\\babel-loader\\lib\\index.js!E:\\xiangmu\\Vue\\vancl_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\xiangmu\\Vue\\vancl_vue\\src\\views\\Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\xiangmu\\Vue\\vancl_vue\\src\\views\\Cart.vue","mtime":1547176458000},{"path":"E:\\xiangmu\\Vue\\vancl_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1535162686000},{"path":"E:\\xiangmu\\Vue\\vancl_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1534881726000},{"path":"E:\\xiangmu\\Vue\\vancl_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      cartList: [],\n      isSelAll: false\n    };\n  },\n  methods: {\n    payMent: function payMent() {\n      //去结算\n      var selList = this.cartList.filter(function (val) {\n        return val.select;\n      });\n\n      if (selList.length == 0) {\n        this.toast(\"您还未选择任何商品\", 1500);\n        return;\n      }\n\n      sessionStorage.setItem(\"payList\", JSON.stringify(selList));\n      this.$router.push(\"/payment\");\n    },\n    //全选与取消全选\n    selectAll: function selectAll() {\n      console.log(123);\n\n      for (var i = 0; i < this.cartList.length; i++) {\n        // this.cartList[i].select=this.isSelAll;\n        this.$set(this.cartList[i], 'select', this.isSelAll);\n      }\n    },\n    //单独某一项按钮的变化\n    selectOne: function selectOne() {\n      var result = true;\n\n      for (var i = 0; i < this.cartList.length; i++) {\n        result = result && this.cartList[i].select;\n      }\n\n      this.isSelAll = result;\n    },\n    //单独某一项删除\n    deleteOne: function deleteOne(index, title) {\n      var _this = this;\n\n      this.model({\n        modelMsg: \"\\u60A8\\u786E\\u5B9A\\u8981\\u5220\\u9664\".concat(title, \"\\u5417\")\n      }).then(function () {\n        _this.cartList.splice(index, 1);\n      }).catch(function () {});\n    },\n    //删除选中选项\n    deleteSel: function deleteSel() {\n      var _this2 = this;\n\n      this.model({\n        modelMsg: \"您确定要删除选中的商品吗\"\n      }).then(function () {\n        // console.log(123);\n        var List = [];\n\n        for (var i = 0; i < _this2.cartList.length; i++) {\n          if (!_this2.cartList[i].select) {\n            List.push(_this2.cartList[i]);\n          }\n\n          _this2.cartList = List;\n        }\n      }).catch(function () {});\n    }\n  },\n  computed: {\n    //计算总价\n    sumMoney: function sumMoney() {\n      var sum = 0;\n      var selList = this.cartList.filter(function (val) {\n        return val.select;\n      });\n      return selList.reduce(function (prev, item) {\n        return prev + item.price * item.count;\n      }, 0).toFixed(2);\n    },\n    //计算总数量\n    sumCount: function sumCount() {\n      var sum = 0;\n\n      for (var i = 0; i < this.cartList.length; i++) {\n        if (this.cartList[i].select) {\n          sum += this.cartList[i].count;\n        }\n      }\n\n      return sum;\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n\n    this.axios.get(\"http://127.0.0.1:3000/cart/getCarts\").then(function (result) {\n      console.log(result);\n\n      if (result.data.code == 1) {\n        _this3.cartList = result.data.data;\n\n        for (var i = 0; i < _this3.cartList.length; i++) {\n          // this.cartList[i].select=false;\n          _this3.$set(_this3.cartList[i], 'select', false);\n        }\n      }\n    });\n  }\n};",{"version":3,"sources":["Cart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div id=\"main\">\r\n    <div id=\"cart\">\r\n        <!--头部-->\r\n        <div class=\"cart-head\">\r\n            <ul class=\"clear\">\r\n                <li>商品信息</li>\r\n                <li>颜色|尺寸</li>\r\n                <li>单价(元)</li>\r\n                <li>数量</li>\r\n                <li>金额</li>\r\n                <li>操作</li>\r\n            </ul>\r\n        </div>\r\n        <!--列表\r\n        <div class=\"cart-item\">\r\n            <ul class=\"clear\">\r\n                <li>\r\n                    <input type=\"checkbox\">\r\n                    <a href=\"#\">\r\n                        <img src=\"img/product/md/6379027-5201711101839399639.jpg\" alt=\"\">\r\n                    </a>\r\n                        <a href=\"\">455555555555555555555555555555555555555555555555555555555</a>\r\n                </li>\r\n                <li>棕色|L</li>\r\n                <li>¥1900</li>\r\n                <li><button>-</button><span>1</span><button>+</button></li>\r\n                <li><span>¥1900</span></li>\r\n                <li><span>删除</span></li>\r\n            </ul>\r\n        </div>-->\r\n        <div v-if=\"cartList.length==0\" class=\"noCart\">\r\n            <p>您还没有添加任何商品，<router-link to=\"/products\">去购物~</router-link></p>\r\n        </div>\r\n        <div class=\"cart-item\"  v-else  v-for=\"(item,i) of cartList\">\r\n            <ul class=\"clear\">\r\n                <li>\r\n                    <input type=\"checkbox\" v-model=\"item.select\" @change=\"selectOne\"/>\r\n                    <a href=\"javascript:;\">\r\n                        <img :src=\"item.img\" alt=\"\">\r\n                    </a>\r\n                        <a href=\"javascript:;\">{{item.title}}</a>\r\n                </li>\r\n                <li>{{item.color}}|{{item.size}}</li>\r\n                <li>¥{{item.price.toFixed(2)}}</li>\r\n                <li><button @click=\"item.count>1?item.count--:item.count\">-</button><span>{{item.count}}</span><button @click=\"item.count++\">+</button></li>\r\n                <li><span>¥{{(item.price*item.count).toFixed(2)}}</span></li>\r\n                <li><span @click=\"deleteOne(i,item.title)\">删除</span></li>\r\n            </ul>\r\n        </div>\r\n        \r\n        <!--结算-->\r\n        <div class=\"cart-count\">\r\n            <ul class=\"clear\">\r\n                <li><label for=\"chk\"><input type=\"checkbox\" id=\"chk\" v-model=\"isSelAll\" @change=\"selectAll\"><span v-if=\"!isSelAll\" >&nbsp;全选</span><span  v-else>&nbsp;取消全选</span></label></li>\r\n                <li class=\"delete\">\r\n                    <a href=\"javascript:;\" @click=\"deleteSel\">删除</a>\r\n                    <a href=\"javascript:;\">移入收藏夹</a>\r\n                </li>\r\n                <li><span>已选择商品 <b id=\"count\">{{sumCount}}</b> 件</span></li>\r\n                <li><span>合计:￥<b id=\"yuan\">{{sumMoney}}</b>元</span></li>\r\n                <li><button @click=\"payMent\">结算</button></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            cartList:[],\r\n            isSelAll:false,\r\n        }\r\n    },\r\n    methods:{\r\n        payMent(){//去结算\r\n\r\n            var selList=this.cartList.filter((val)=>{return val.select});\r\n            if(selList.length==0){\r\n                this.toast(\"您还未选择任何商品\",1500)\r\n                return;\r\n            }\r\n            sessionStorage.setItem(\"payList\",JSON.stringify(selList));\r\n            this.$router.push(\"/payment\");\r\n            \r\n        },\r\n        //全选与取消全选\r\n        selectAll(){\r\n            console.log(123);\r\n            for(var i=0;i<this.cartList.length;i++){\r\n                // this.cartList[i].select=this.isSelAll;\r\n                this.$set(this.cartList[i],'select',this.isSelAll)\r\n            }\r\n        },\r\n        //单独某一项按钮的变化\r\n        selectOne(){\r\n            var result=true;\r\n            for(var i=0;i<this.cartList.length;i++){\r\n                result=result&&this.cartList[i].select;\r\n            }\r\n            this.isSelAll=result;\r\n        },\r\n        //单独某一项删除\r\n        deleteOne(index,title){\r\n            this.model({modelMsg:`您确定要删除${title}吗`}).then(()=>{\r\n                this.cartList.splice(index,1);\r\n            }).catch(()=>{})\r\n\r\n        },\r\n        //删除选中选项\r\n        deleteSel(){\r\n            this.model({modelMsg:\"您确定要删除选中的商品吗\"}).then(()=>{\r\n                // console.log(123);\r\n                let List=[];\r\n                for(var i=0;i<this.cartList.length;i++){\r\n                if(!this.cartList[i].select){\r\n                   List.push(this.cartList[i]);\r\n                }\r\n                this.cartList=List;\r\n            }\r\n            }).catch(()=>{})\r\n        }\r\n    },\r\n    computed: {\r\n        //计算总价\r\n        sumMoney(){\r\n            var sum=0;\r\n            var selList=this.cartList.filter((val)=>{return val.select});\r\n            return selList.reduce((prev,item)=>prev+item.price*item.count,0).toFixed(2);\r\n        },\r\n        //计算总数量\r\n        sumCount(){\r\n            var sum=0;\r\n            for(var i=0;i<this.cartList.length;i++){\r\n                if(this.cartList[i].select){\r\n                    sum+=this.cartList[i].count;\r\n                }\r\n            }\r\n            return sum;\r\n        }\r\n    },\r\n    created(){\r\n        this.axios.get(\"http://127.0.0.1:3000/cart/getCarts\").then((result)=>{\r\n            console.log(result);\r\n            if(result.data.code==1){\r\n                this.cartList=result.data.data;\r\n                for(var i=0;i<this.cartList.length;i++){\r\n                // this.cartList[i].select=false;\r\n                    this.$set(this.cartList[i],'select',false)\r\n                }\r\n            }\r\n        })\r\n    },\r\n}\r\n</script>\r\n<style scoped>\r\n    /*购物车样式*/\r\n/*****购物车头部******/\r\n#main{\r\n    width:1200px;\r\n    margin:20px auto;\r\n}\r\n#main .cart-head ul,#main .cart-count>ul{\r\n    border-radius: 4px;\r\n    border:1px solid #ddd;\r\n    background:#eee;\r\n}\r\n#main .cart-head ul>li,#main .cart-item>ul>li{\r\n    float:left;\r\n    width:155px;\r\n    padding:10px 0px;\r\n    text-align: center;\r\n    color:#333;\r\n    overflow: hidden;\r\n    box-sizing: border-box;\r\n    font-size:16px;\r\n}\r\n\r\n#main .cart-count>ul>li{\r\n    float:left;\r\n    width:170px;\r\n    text-align: center;\r\n    color:#333;\r\n    overflow: hidden;\r\n    box-sizing: border-box;\r\n}\r\n#main .cart-head ul>li:first-child,#main .cart-count>ul>li:first-child,#main .cart-item>ul>li:first-child{\r\n    width:368px;\r\n    text-align: left;\r\n    padding-left:50px;\r\n    box-sizing: border-box;\r\n    \r\n}\r\n/******购物车底部*****/\r\n#main .cart-count ul>li>a{\r\n    font-size:12px;\r\n    color: #393939;\r\n    padding:2px 5px;\r\n    text-decoration:none;\r\n    font-size:14px;\r\n}\r\n#main .cart-count>ul{\r\n    line-height:67px;\r\n    font-size:16px;\r\n}\r\n#main .cart-count>ul>li b{\r\n        color:#ed192b;\r\n        font-size:20px;\r\n}\r\n#main .cart-count ul>li:last-child>button{\r\n    outline:none;\r\n    display: inline-block;\r\n    padding:10px 25px;\r\n    background:#ed192b;\r\n    border:2px solid #ddd;\r\n    border-radius: 5px;\r\n    font-size:16px;\r\n    font-weight:bold;\r\n    color:#fff;\r\n}\r\n#main .cart-count>ul>li:first-child{\r\n    margin-right: 10px;\r\n}\r\n/*********购物车商品***********/\r\n#main .cart-item>ul{\r\n    line-height: 80px;\r\n    border:1px dotted #ddd;\r\n}\r\n#main .cart-item>ul>li{\r\n    float:left;\r\n    overflow: hidden;\r\n    font-weight:bold;\r\n    color: #666;\r\n    font-size:14px;\r\n}\r\n#main .cart-item>ul>li:nth-child(4)>span{\r\n    width:40px;\r\n    display: inline-block;\r\n    height:35px;\r\n    line-height: 35px;\r\n}\r\n#main .cart-item>ul>li:nth-child(4)>button{\r\n    width:33px;\r\n    padding:8px;\r\n}\r\n#main .cart-item>ul>li:last-child>span{\r\n    cursor:pointer;\r\n\r\n}\r\n#main .cart-item>ul>li a:nth-child(2){\r\n    display: inline-block;\r\n    width:60px;\r\n    margin-left:10px;\r\n}\r\n#main .cart-item>ul>li a:last-child{\r\n    display: inline-block;\r\n    width:200px;\r\n    height:20px;\r\n    line-height:20px;\r\n    overflow: hidden;\r\n    text-overflow:ellipsis;\r\n    white-space: nowrap;\r\n    color:#393939;\r\n}\r\n\r\n#main .cart-item>ul>li:first-child>a>img{\r\n    vertical-align: middle;\r\n    width:50px;\r\n}\r\n\r\n\r\n/**************购物车没有商品提示*****************/\r\n#cart .no{\r\n    height:200px;\r\n    text-align: center;\r\n    font-size:20px;\r\n    line-height: 200px;\r\n    color:#c39329;\r\n    font-family: \"黑体\";\r\n\r\n}\r\n#cart .no a{\r\n    text-decoration: underline;\r\n    font-size:18px;\r\n}\r\n/**购物车没有商品 */\r\n.noCart{\r\n    height:300px;\r\n    text-align:center;\r\n    line-height:300px;\r\n    font-size:20px;\r\n}\r\n.noCart a{\r\n    color:#ed192b;\r\n}\r\n</style>"],"sourceRoot":"src\\views"}]}