{"remainingRequest":"E:\\xiangmu\\Vue\\vancl_vue\\node_modules\\babel-loader\\lib\\index.js!E:\\xiangmu\\Vue\\vancl_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\xiangmu\\Vue\\vancl_vue\\src\\views\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\xiangmu\\Vue\\vancl_vue\\src\\views\\Register.vue","mtime":1546866250000},{"path":"E:\\xiangmu\\Vue\\vancl_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1535162686000},{"path":"E:\\xiangmu\\Vue\\vancl_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1534881726000},{"path":"E:\\xiangmu\\Vue\\vancl_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      uname: \"\",\n      email: \"\",\n      upwd1: \"\",\n      upwd2: \"\",\n      unameSpan: \"\",\n      emailSpan: \"\",\n      upwd1Span: \"\",\n      upwd2Span: \"\",\n      unameStyle: {\n        fail: false,\n        success: false\n      },\n      emailStyle: {\n        fail: false,\n        success: false\n      },\n      upwd1Style: {\n        fail: false,\n        success: false\n      },\n      upwd2Style: {\n        fail: false,\n        success: false\n      }\n    };\n  },\n  methods: {\n    //正则表达式验证\n    vail: function vail(reg, tar) {\n      if (reg.test(tar)) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    signup: function signup() {\n      var isSignup = this.emailStyle.success && this.unameStyle.success && this.upwd1Style.success && this.upwd2Style.success;\n\n      if (isSignup) {\n        // console.log(123);\n        window.alert(\"\\u6CE8\\u518C\\u6210\\u529F\");\n        this.axios.post(\"http://127.0.0.1:3000/user/reg\", \"uname=\".concat(this.uname, \"&upwd=\").concat(this.upwd1, \"&email=\").concat(this.email)).then(function (result) {\n          console.log(result);\n        });\n        this.$router.push(\"/login\");\n      }\n    }\n  },\n  watch: {\n    upwd1: function upwd1() {\n      if (!this.upwd1.trim()) {\n        this.upw1Span = \"密码不能为空\";\n        this.upw1Style.fail = true;\n        this.upw1Style.success = false;\n        return;\n      }\n\n      var flag = this.vail(/^\\d{6,16}$/, this.upwd1);\n\n      if (!flag) {\n        this.upwd1Span = \"密码格式不正确\", this.upwd1Style.fail = true;\n        this.upwd1Style.success = false;\n      } else {\n        this.upwd1Span = \"\", this.upwd1Style.fail = false;\n        this.upwd1Style.success = true;\n      }\n    },\n    upwd2: function upwd2() {\n      if (this.upwd1 != this.upwd2) {\n        this.upwd2Span = \"两次输入的密码不一致\", this.upwd2Style.fail = true;\n        this.upwd2Style.success = false;\n      } else {\n        this.upwd2Span = \"\", this.upwd2Style.fail = false;\n        this.upwd2Style.success = true;\n      }\n    },\n    uname: function uname() {\n      var _this = this;\n\n      if (!this.uname.trim()) {\n        this.unameSpan = \"用户名不能为空\";\n        this.unameStyle.fail = true;\n        this.unameStyle.success = false;\n        return;\n      }\n\n      var flag = this.vail(/\\w{6,16}$/, this.uname);\n\n      if (!flag) {\n        this.unameSpan = \"用户名格式不正确\", this.unameStyle.fail = true;\n        this.unameStyle.success = false;\n      } else {\n        this.axios.get(\"http://localhost:3000/user/check_uname?uname=\" + this.uname).then(function (res) {\n          if (res.data.code == 1) {\n            _this.unameSpan = \"\", _this.unameStyle.fail = false;\n            _this.unameStyle.success = true;\n          } else {\n            _this.unameSpan = res.data.msg;\n            _this.unameStyle.fail = true;\n            _this.unameStyle.success = false;\n          }\n        });\n      }\n    },\n    email: function email() {\n      var _this2 = this;\n\n      if (!this.email.trim()) {\n        this.emailSpan = \"邮箱不能为空\";\n        this.emailStyle.fail = true;\n        this.emailStyle.success = false;\n        return;\n      }\n\n      var flag = this.vail(/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/, this.email);\n\n      if (!flag) {\n        this.emailSpan = \"邮箱格式不正确\", this.emailStyle.fail = true;\n        this.emailStyle.success = false;\n      } else {\n        this.axios.get(\"http://localhost:3000/user/check_email?email=\" + this.email).then(function (res) {\n          console.log(res.data);\n\n          if (res.data.code == 1) {\n            _this2.emailSpan = \"\", _this2.emailStyle.fail = false;\n            _this2.emailStyle.success = true;\n          } else {\n            _this2.emailSpan = res.data.msg;\n            _this2.emailStyle.fail = true;\n            _this2.emailStyle.success = false;\n          }\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["Register.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div >\r\n    <div id=\"container\">\r\n\t\t<div class=\"top clear\">\r\n\t\t\t<a href=\"index.html\"><img src=\"img/login/logo_new.jpg\" alt=\"\"/></a>\r\n\t\t\t<a href=\"#\" class=\"right\">帮助</a>\r\n\t\t</div>\r\n\t\t<div class=\"main clear\">\r\n\t\t\t<div class=\"main-left\">\r\n\t\t\t\t<img src=\"img/login/login120412_newlogo.jpg\" alt=\"\"/>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"main-right right\">\r\n\t\t\t\t<span>凡客Vancl注册</span>\r\n\t\t\t\t<span>已有账户 <router-link to=\"/login\">去登陆</router-link></span>\r\n\t\t\t\t<div class=\"content\">\r\n\t\t\t\t\t<span>用户登录</span>\r\n\t\t\t\t\t<form action=\"\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"uname\" placeholder=\"请输入用户名：6~16位字母、数字、下划线\"   >\r\n                            <span :class=\"unameStyle\">{{unameSpan}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"email\" placeholder=\"请输入邮箱\">\r\n                            <span :class=\"emailStyle\">{{emailSpan}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input type=\"password\" v-model=\"upwd1\" placeholder=\"请输入密码：6~16位字母、数字、下划线\"  >\r\n                            <span :class=\"upwd1Style\">{{upwd1Span}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input type=\"password\" v-model=\"upwd2\" placeholder=\"请再次入密码\"  >\r\n                            <span :class=\"upwd2Style\">{{upwd2Span}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<input type=\"button\" value=\"立即注册\" @click=\"signup\">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n  </div>\r\n</template>\r\n<script>\r\n    export default{\r\n        data(){\r\n            return {\r\n                uname:\"\",\r\n                email:\"\",\r\n                upwd1:\"\",\r\n                upwd2:\"\",\r\n                unameSpan:\"\",\r\n                emailSpan:\"\",\r\n                upwd1Span:\"\",\r\n                upwd2Span:\"\",\r\n                unameStyle:{\r\n                    fail:false,\r\n                    success:false\r\n                },\r\n                emailStyle:{\r\n                    fail:false,\r\n                    success:false\r\n                },\r\n                upwd1Style:{\r\n                    fail:false,\r\n                    success:false\r\n                },\r\n                upwd2Style:{\r\n                    fail:false,\r\n                    success:false\r\n                },\r\n                \r\n                \r\n            }\r\n        },\r\n        methods:{\r\n            //正则表达式验证\r\n            vail(reg,tar){\r\n                if(reg.test(tar)){\r\n                    return true;\r\n                }else{\r\n                    return false;\r\n                }\r\n            },\r\n            signup(){\r\n                let isSignup=this.emailStyle.success&&this.unameStyle.success&&this.upwd1Style.success&&this.upwd2Style.success;\r\n                if(isSignup){\r\n                    // console.log(123);\r\n                    window.alert(`注册成功`);\r\n                    this.axios.post(\"http://127.0.0.1:3000/user/reg\",`uname=${this.uname}&upwd=${this.upwd1}&email=${this.email}`).then((result)=>{\r\n                        console.log(result);\r\n                    })\r\n                    this.$router.push(\"/login\");\r\n                }\r\n            },\r\n        },\r\n        watch:{\r\n            upwd1(){\r\n                if(!this.upwd1.trim()){\r\n                   this.upw1Span=\"密码不能为空\";\r\n                   this.upw1Style.fail=true;\r\n                   this.upw1Style.success=false;\r\n                   return; \r\n                }\r\n                var flag=this.vail(/^\\d{6,16}$/,this.upwd1);\r\n                if(!flag){\r\n                    this.upwd1Span=\"密码格式不正确\",\r\n                   this.upwd1Style.fail=true;\r\n                   this.upwd1Style.success=false;\r\n                }else{\r\n                    this.upwd1Span=\"\",\r\n                    this.upwd1Style.fail=false;\r\n                    this.upwd1Style.success=true;\r\n                }\r\n            },\r\n            upwd2(){\r\n                if(this.upwd1!=this.upwd2){\r\n                    this.upwd2Span=\"两次输入的密码不一致\",\r\n                   this.upwd2Style.fail=true;\r\n                   this.upwd2Style.success=false;\r\n                }else{\r\n                    this.upwd2Span=\"\",\r\n                    this.upwd2Style.fail=false;\r\n                    this.upwd2Style.success=true;\r\n                }\r\n            },\r\n            uname(){\r\n                if(!this.uname.trim()){\r\n                   this.unameSpan=\"用户名不能为空\";\r\n                   this.unameStyle.fail=true;\r\n                   this.unameStyle.success=false;\r\n                   return; \r\n                }\r\n                var flag=this.vail(/\\w{6,16}$/,this.uname)\r\n               if(!flag){\r\n                   this.unameSpan=\"用户名格式不正确\",\r\n                   this.unameStyle.fail=true;\r\n                   this.unameStyle.success=false;\r\n               }else{\r\n                   this.axios.get(\"http://localhost:3000/user/check_uname?uname=\"+this.uname).then(res=>{\r\n                   if(res.data.code==1){\r\n                       this.unameSpan=\"\",\r\n                        this.unameStyle.fail=false;\r\n                        this.unameStyle.success=true;\r\n                    }else{\r\n                        this.unameSpan=res.data.msg;\r\n                        this.unameStyle.fail=true;\r\n                        this.unameStyle.success=false;\r\n                    }\r\n                })\r\n               }\r\n            },\r\n            email(){\r\n                if(!this.email.trim()){\r\n                   this.emailSpan=\"邮箱不能为空\";\r\n                   this.emailStyle.fail=true;\r\n                    this.emailStyle.success=false;\r\n                   return; \r\n                }\r\n                var flag=this.vail(/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/,this.email)\r\n               if(!flag){\r\n                   this.emailSpan=\"邮箱格式不正确\",\r\n                   this.emailStyle.fail=true;\r\n                    this.emailStyle.success=false;\r\n               }else{\r\n                    this.axios.get(\"http://localhost:3000/user/check_email?email=\"+this.email).then(res=>{\r\n                    console.log(res.data)\r\n                \r\n                   if(res.data.code==1){\r\n                        this.emailSpan=\"\",\r\n                        this.emailStyle.fail=false;\r\n                        this.emailStyle.success=true;\r\n                    }else{\r\n                        this.emailSpan=res.data.msg;\r\n                        this.emailStyle.fail=true;\r\n                        this.emailStyle.success=false;\r\n                    \r\n                    }\r\n                })\r\n            }\r\n        }\r\n       \r\n    }\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n    #container{\r\n    text-align:left;\r\n    width:1200px;\r\n    margin:0 auto;\r\n}\r\n#container div.top{\r\n    margin-top:80px;\r\n    border-bottom:1px solid #000;\r\n    padding-bottom: 20px;\r\n    position:relative;\r\n}\r\n#container div.top>a{\r\n    text-decoration: none;\r\n    color:#000000;\r\n    margin-top:30px;\r\n    position:relative;\r\n    top:5px;\r\n    right: 0;\r\n}\r\n#container  .main{\r\n    margin-top:100px;\r\n    margin-left: 50px;\r\n}\r\n#container .main .main-right{\r\n    width:600px;\r\n    height:400px;\r\n    box-sizing: border-box;\r\n    padding:0 100px;\r\n}\r\n#container .main .main-left{\r\n    display: inline-block;\r\n}\r\n#container .main .main-right>span:first-child{\r\n    color:#9F808F;\r\n    font-size:23px;\r\n    font-weight: bold;\r\n}\r\n#container .main .main-right>span:nth-child(2){\r\n    font-size:15px;\r\n    float:right;\r\n    margin-top: 8px;\r\n}\r\n#container .main .main-right>span:nth-child(2)>a{\r\n    color:#666666;\r\n    font-size:15px;\r\n    text-decoration: none;\r\n}\r\n#container .main .main-right .content{\r\n    border: 1px solid #ddd;\r\n}\r\n#container .main .main-right .content>span{\r\n    display: block;\r\n    padding:16px 20px;\r\n    text-align: center;\r\n    font-size:17px;\r\n    background: #B71B22;\r\n    color:#fff;\r\n    border-radius: 3px;\r\n\r\n}\r\n/***input样式定制 */\r\n#container .main .main-right .content>form>div{\r\n    margin-top:35px;\r\n    text-align: center;\r\n    position:relative;\r\n    top:0;left:0;\r\n}\r\n#container .main .main-right .content>form>div>span{\r\n    display:none;\r\n}\r\n#container .main .main-right .content>form>div>span.fail{\r\n    display:inline-block;\r\n    position:absolute;\r\n    top:45px;\r\n    left:27px;\r\n    color:red;\r\n    font-size:14px;\r\n}\r\n#container .main .main-right .content>form>div>span.success{\r\n    display:inline-block;\r\n    width:22px;\r\n    height:22px;\r\n    position:absolute;\r\n    bottom:8px;\r\n    right:35px;\r\n    background:url(\"../../public/img/register/true.png\")\r\n}\r\n#container .main .main-right .content>form>div>input{\r\n    width:300px;\r\n    padding:10px 20px;\r\n    background: #FAFFBD;\r\n    outline:none;\r\n}\r\n\r\n#container .main .main-right .content>form>div:last-child{\r\n    margin:  30px 0;\r\n}\r\n#container .main .main-right .content>form>div>a{\r\n    text-decoration: none;\r\n    color:#666;\r\n    margin-right: 27px;\r\n}\r\n#container .main .main-right .content>form>div>a:hover{\r\n    color:#0aa1ed;\r\n}\r\n#container .main .main-right .content>form>div:last-child input{\r\n    color:#fff;\r\n    background: #B71B22;\r\n    font-size:17px;\r\n    height:50px;\r\n    width:344px;\r\n    border-radius: 3px;\r\n}\r\n</style>"],"sourceRoot":"src\\views"}]}